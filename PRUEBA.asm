.MODEL SMALL
.STACK 100H

.DATA
    CADENA    DB 50 DUP('$')
    REVES     DB 50 DUP('$')
    CHAR      DB 0
    MSG1      DB 10,13,'INTRODUCE UNA CADENA (MAX 50 CARACTERES): $',10,13
    MSGERROR  DB 10,13,'INTRODUJISTE UN CARACTER NO ALFANUMERICO$',10,13
.CODE
MAIN PROC

MOV AX, @data
MOV DS, AX

LEA DX, MSG1
MOV AH, 09h
INT 21h

XOR DX, DX
XOR AX, AX
XOR SI, SI
MOV CX, 50
LEER:
    LEA DX, CADENA
    MOV AH, 0AH
    INT 21H
 
    CMP AL, '0'
    JB ERROR
    CMP AL, '9'
    JB CONTINUE
    CMP AL, 'A'
    JB ERROR
    CMP AL, 'Z'
    JB CONTINUE
    CMP AL, 'a' 
    JB ERROR
    CMP AL, 'z'
    JB CONTINUE
    JMP ERROR
CONTINUE:

    MOV CADENA[SI], AL 
    INC SI
    INC SI
    LOOP LEER ; LETS GO BACK
ERROR:

    LEA DX, CADENA
    MOV AH, 09h
    INT 21H

    LEA DX, MSGERROR
    MOV AH, 09h
    INT 21h
    JMP FIN

FIN:

MOV AH, 4Ch
INT 21h
MAIN ENDP

IMPRIMIR_NUMERO PROC
    PUSH AX
    PUSH BX
    PUSH CX
    PUSH DX
    
    MOV CX, 0      
    MOV BX, 10     

OBTENER_DIGITOS:
    MOV DX, 0      
    DIV BX         
    ADD DL, 30H    
    PUSH DX        
    INC CX         
    TEST AX, AX    
    JNZ OBTENER_DIGITOS

MOSTRAR_DIGITOS:
    POP DX         
    MOV AH, 02h    
    INT 21h        
    LOOP MOSTRAR_DIGITOS 

    POP DX
    POP CX
    POP BX
    POP AX
    RET
    IMPRIMIR_NUMERO ENDP

END MAIN
